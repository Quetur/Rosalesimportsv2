<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{{#if data}}Modificar{{else}}Nueva{{/if}} Categoría</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com" />
</head>

<body class="bg-gray-200 p-4 md:p-10 font-sans">
  <div class="max-w-2xl mx-auto bg-white rounded-xl shadow-2xl overflow-hidden border border-gray-300">

    <!-- Header Dinámico -->
    <div class="{{#if data}}bg-blue-600{{else}}bg-emerald-600{{/if}} px-6 py-4 flex items-center gap-3 transition-colors duration-300">
      <i class="fas {{#if data}}fa-edit{{else}}fa-plus-circle{{/if}} text-white text-xl"></i>
      <h2 class="text-white font-bold text-xl tracking-wide">
        {{#if data}}Modificar Categoría{{else}}Nueva Categoría{{/if}}
      </h2>
    </div>

    <!-- FORMULARIO DINÁMICO -->
    {{#if data}}
      {{#each data}}
      <form action="/categoriamodi/{{id_categoria}}" method="POST" class="p-8 space-y-6">
        <div class="bg-gray-50 p-6 rounded-lg border border-gray-200 space-y-6">
          <div>
            <label class="block text-[10px] font-bold text-gray-500 uppercase mb-2 tracking-widest text-blue-600">ID: {{id_categoria}} (No editable)</label>
            <input name="des" type="text" maxlength="30" value="{{des}}"
              class="w-full border border-gray-300 p-3 rounded-md focus:ring-2 focus:ring-blue-500 outline-none transition-all"
              required autofocus>
          </div>
        </div>

        <div class="flex flex-col md:flex-row gap-4 pt-6 border-t border-gray-100">
          <button type="submit" class="flex-1 bg-blue-600 hover:bg-blue-700 text-white font-bold py-4 rounded-xl shadow-lg flex items-center justify-center gap-2 transition-transform active:scale-95">
            <i class="fas fa-sync-alt"></i> Actualizar Categoría
          </button>
          <button type="button" onclick="window.location='/categorialista'" class="flex-1 bg-gray-100 text-gray-500 font-bold py-4 rounded-xl">Cancelar</button>
        </div>
      </form>
      {{/each}}
    {{else}}
      <!-- Formulario para NUEVO -->
      <form action="/categoriainsertar" method="POST" class="p-8 space-y-6">
        <div class="bg-gray-50 p-6 rounded-lg border border-gray-200 space-y-6">
          <div>
            <label class="block text-[10px] font-bold text-gray-500 uppercase mb-2 tracking-widest">Nombre / Descripción</label>
            <input name="des" type="text" maxlength="30"
              class="w-full border border-gray-300 p-3 rounded-md focus:ring-2 focus:ring-emerald-500 outline-none transition-all"
              placeholder="Ej: Perfumes, Cargadores..." required autofocus>
          </div>
        </div>

        <div class="flex flex-col md:flex-row gap-4 pt-6 border-t border-gray-100">
          <button type="submit" class="flex-1 bg-emerald-600 hover:bg-emerald-700 text-white font-bold py-4 rounded-xl shadow-lg flex items-center justify-center gap-2 transition-transform active:scale-95">
            <i class="fas fa-save"></i> Guardar Categoría
          </button>
          <button type="button" onclick="window.location='/categorialista'" class="flex-1 bg-gray-100 text-gray-500 font-bold py-4 rounded-xl">Cancelar</button>
        </div>
      </form>
    {{/if}}

  </div>
</body>
</html>
